<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PDF/Text to MP3</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button id="themeToggle" class="theme-toggle">Toggle Dark Mode</button>
  <h1>PDF/Text to Speech & Text Downloader</h1>
  <p>
    <strong>Listen:</strong> Use your browser's voice to listen to the text below.<br>
    <strong>Download:</strong> Save the extracted or pasted text as a .txt file.<br>
    <strong>Want an MP3?</strong> Use the provided Python script (<code>pdf2mp3.py</code>) on your computer for downloadable audio using your native OS voices.
  </p>
  <div class="uploader">
    <input type="file" id="pdfFile" accept="application/pdf">
    <textarea id="textInput" placeholder="Or paste text here..."></textarea>
    <div class="button-row">
      <button id="extractBtn">Extract PDF Text</button>
      <button id="listenBtn">Listen to Text</button>
      <button id="downloadTextBtn">Download Text</button>
      <button id="convertBtn">Download MP3</button>
    </div>
  </div>
  <div id="progress"></div>
  <pre id="terminal" class="terminal"></pre>
  <div id="listenControls" class="button-row" style="display:none;">
    <button id="pauseListenBtn">Pause</button>
    <button id="resumeListenBtn">Resume</button>
    <button id="stopListenBtn">Stop</button>
  </div>

  <div id="mp3Help" style="display:none;" class="instructions">
    <h2>How to Generate an MP3</h2>
    <ol>
      <li>Download <code>pdf2mp3.py</code> from this repository.</li>
      <li>Open a terminal in the folder where your PDF lives.</li>
      <li>Run <code>python pdf2mp3.py yourfile.pdf</code>.</li>
      <li>The script will create <code>yourfile.mp3</code> using your system's
      voices.</li>
    </ol>
    <p>See the project README for setup instructions if Python or FFmpeg are not installed.</p>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js"></script>
  <script src="script.js"></script>
</body>
</html>

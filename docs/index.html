<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PDF/Text to MP3</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button id="themeToggle" class="theme-toggle">Toggle Dark Mode</button>
  <h1>PDF/Text to Speech & Text Downloader</h1>
  <p>
    <strong>Listen:</strong> Use your browser's voice to listen to the text below.<br>
    <strong>Download:</strong> Save the extracted or pasted text as a .txt file.<br>
    <strong>Want an MP3?</strong> Use the provided Python script (<code>pdf2mp3.py</code>) on your computer for downloadable audio using your native OS voices.
  </p>
  <div class="uploader">
    <input type="file" id="pdfFile" accept="application/pdf">
    <textarea id="textInput" placeholder="Or paste text here..."></textarea>
    <div class="button-row">
      <button id="extractBtn">Extract PDF Text</button>
      <button id="listenBtn">Listen to Text</button>
      <button id="downloadTextBtn">Download Text</button>
      <button id="convertBtn">Download MP3</button>
    </div>
  </div>
  <div id="progress"></div>
  <pre id="terminal" class="terminal"></pre>
  <div id="listenControls" class="button-row" style="display:none;">
    <button id="pauseListenBtn">Pause</button>
    <button id="resumeListenBtn">Resume</button>
    <button id="stopListenBtn">Stop</button>
  </div>

  <div id="mp3Help" class="instructions">
    <h2>How to Generate an MP3</h2>
    <ol>
      <li>The project ZIP downloads automatically. Unzip it, then place your PDF in the folder.</li>
      <li>
        Open a terminal in the unzipped folder.
        <ul>
          <li><strong>Windows:</strong> launch <em>Command Prompt</em> from the Start menu.</li>
          <li><strong>macOS:</strong> open <em>Terminal</em> from <em>Applications &gt; Utilities</em> or use Spotlight.</li>
          <li><strong>Linux:</strong> press <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>T</kbd> or find <em>Terminal</em> in your applications menu.</li>
        </ul>
      </li>
      <li>
        Run <code id="cmdText">python ~/Downloads/audiobook_maker/pdf2mp3.py</code>
        <button id="copyCmdBtn" type="button">Copy</button>.
      </li>
      <li>The script will find the PDF and create an MP3 for you. When it finishes, the file automatically downloads.</li>
    </ol>
    <p>No need to look anywhere else&mdash;this one command makes your MP3.</p>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
